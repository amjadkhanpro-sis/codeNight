<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Checkout - Winter Fashion</title>
  <link rel="stylesheet" href="css/bootstrap.min.css">
  <style>
    .container { max-width: 600px; margin-top: 50px; }
  </style>
</head>
<body class="bg-light">

  <div class="container bg-white p-4 rounded shadow">
    <h2 class="text-center mb-4">üí≥ Checkout</h2>

    <div id="order-summary" class="mb-4"></div>

    <form id="checkout-form">
      <div class="mb-3">
        <label class="form-label">Full Name</label>
        <input type="text" class="form-control" required>
      </div>
      <div class="mb-3">
        <label class="form-label">Email</label>
        <input type="email" class="form-control" required>
      </div>
      <div class="mb-3">
        <label class="form-label">Address</label>
        <input type="text" class="form-control" required>
      </div>
      <div class="row mb-3">
        <div class="col-md-6">
          <label class="form-label">City</label>
          <input type="text" class="form-control" required>
        </div>
        <div class="col-md-6">
          <label class="form-label">Zip Code</label>
          <input type="text" class="form-control" required>
        </div>
      </div>
      <div class="mb-3">
        <label class="form-label">Payment Method</label>
        <select class="form-select" required>
          <option value="">Select</option>
          <option value="cod">Cash on Delivery</option>
          <option value="card">Credit/Debit Card</option>
        </select>
      </div>

      <div class="d-flex justify-content-between mt-4">
        <button type="button" class="btn btn-danger" id="cancel-order">üóë Cancel Order</button>
        <button type="submit" class="btn btn-success">‚úÖ Place Order</button>
      </div>
    </form>
  </div>

  <script>
    // Display Order Summary
    const cart = JSON.parse(localStorage.getItem('cart')) || [];
    const summary = document.getElementById('order-summary');
    let total = 0;

    if (cart.length === 0) {
      summary.innerHTML = `<p>Your cart is empty. <a href='index.html'>Shop Now</a></p>`;
    } else {
      let html = '<h5>üõç Order Summary</h5><ul class="list-group">';
      cart.forEach(item => {
        const itemTotal = item.price * item.quantity;
        total += itemTotal;
        html += `<li class="list-group-item d-flex justify-content-between">
                  ${item.name} x ${item.quantity} 
                  <span>${itemTotal} Rs</span>
                </li>`;
      });
      html += `</ul><h5 class="text-end mt-3">Total: ${total} Rs</h5>`;
      summary.innerHTML = html;
    }

    // Handle Checkout
    document.getElementById('checkout-form').addEventListener('submit', e => {
      e.preventDefault();
      alert('üéâ Thank you! Your order has been placed successfully.');
      localStorage.removeItem('cart');
      window.location.href = 'index.html';
    });

    // Handle Cancel Order
    document.getElementById('cancel-order').addEventListener('click', () => {
      if (confirm('Are you sure you want to cancel your order?')) {
        localStorage.removeItem('cart');
        alert('Your order has been canceled.');
        window.location.href = 'index.html';
      }
    });
  </script>
</body>
</html>
